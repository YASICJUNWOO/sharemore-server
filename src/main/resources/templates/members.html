<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>회원 목록 페이지</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
  <h2 class="mb-4">회원 목록 페이지</h2>
  <table class="table table-striped" id="memberTable">
    <thead>
    <tr>
      <th>ID</th>
      <th>이름</th>
      <th>이메일</th>
      <th>전화번호</th>
    </tr>
    </thead>
    <tbody>
    <!-- 회원 목록을 JavaScript를 통해 동적으로 렌더링 -->
    </tbody>
  </table>
</div>

<script>
  // 페이지 로드 시 회원 목록을 불러와서 렌더링
  document.addEventListener('DOMContentLoaded', function() {
    fetch('http://localhost:8080/api/admin/member/all')
            .then(response => response.json())
            .then(data => {
              const memberTableBody = document.querySelector('#memberTable tbody');
              data.forEach(member => {
                const row = document.createElement('tr');
                row.innerHTML = `
              <td>${member.id}</td>
              <td>${member.name}</td>
              <td>${member.email}</td>
              <td>${member.phone}</td>
            `;
                memberTableBody.appendChild(row);
              });
            })
            .catch(error => console.error('Error:', error));
  });
</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.amazonaws.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
